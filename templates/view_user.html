<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>查看用户信息</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body class="container py-3">
    <h2>查询用户信息</h2>
    <form action="{{ url_for('view_user') }}" method="POST" class="row g-3">
        <div class="col-md-6">
            <label for="meter_id" class="form-label">Meter ID:</label>
            <input type="text" class="form-control" name="meter_id" required placeholder="e.g. 123-456-789">
        </div>
        <div class="col-12">
            <button type="submit" class="btn btn-primary">查询</button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">返回首页</a>
        </div>
    </form>

    <hr>

    {% if not_found %}
    <p class="text-danger">未找到 Meter ID 为 <strong>{{ meter_id }}</strong> 的用户</p>
    {% endif %}

    {% if user_info %}
    <h3>用户信息:</h3>
    <ul>
        <li><strong>Username:</strong> {{ user_info.username }}</li>
        <li><strong>Meter ID:</strong> {{ user_info.meter_id }}</li>
        <li><strong>Dwelling Type:</strong> {{ user_info.dwelling_type }}</li>
        <li><strong>Region:</strong> {{ user_info.region }}</li>
        <li><strong>Area:</strong> {{ user_info.area }}</li>
        <li><strong>Community:</strong> {{ user_info.community }}</li>
        <li><strong>Unit:</strong> {{ user_info.unit }}</li>
        <li><strong>Floor:</strong> {{ user_info.floor }}</li>
        <li><strong>Email:</strong> {{ user_info.email }}</li>
        <li><strong>Phone:</strong> {{ user_info.tel }}</li>
        <li><strong>Current Reading:</strong> {{ user_info.reading }}</li>
    </ul>
    {% endif %}
</body>
</html>